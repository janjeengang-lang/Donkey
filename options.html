<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Zepra Options</title>
    <style>
        /* Reset and base styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', 'Segoe UI', system-ui, sans-serif;
            background: #000;
            overflow: hidden;
            color: #e2e8f0;
        }

        /* Modal backdrop with blur effect */
        .modal-backdrop {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(12px);
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            animation: backdropFadeIn 0.4s ease-out;
        }

        @keyframes backdropFadeIn {
            from {
                opacity: 0;
                backdrop-filter: blur(0px);
            }

            to {
                opacity: 1;
                backdrop-filter: blur(12px);
            }
        }

        /* Main modal container */
        .options-modal {
            width: 95vw;
            height: 90vh;
            max-width: 1200px;
            background: rgba(15, 23, 42, 0.95);
            border: 1px solid rgba(139, 92, 246, 0.3);
            border-radius: 24px;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            position: relative;
            animation: modalSlideIn 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
            box-shadow:
                0 25px 50px -12px rgba(0, 0, 0, 0.8),
                0 0 0 1px rgba(139, 92, 246, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: scale(0.9) translateY(20px);
            }

            to {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }

        /* Grid background pattern */
        .options-modal::before {
            content: '';
            position: absolute;
            inset: 0;
            background-image:
                linear-gradient(rgba(139, 92, 246, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(139, 92, 246, 0.03) 1px, transparent 1px);
            background-size: 20px 20px;
            pointer-events: none;
            z-index: -1;
        }

        /* Header */
        .modal-header {
            padding: 24px 32px;
            border-bottom: 1px solid rgba(139, 92, 246, 0.2);
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(0, 0, 0, 0.2);
        }

        .modal-title {
            font-size: 2rem;
            font-weight: 700;
            color: #4ade80;
            text-shadow: 0 0 20px rgba(74, 222, 128, 0.4);
            animation: titleGlow 3s ease-in-out infinite alternate;
        }

        @keyframes titleGlow {
            from {
                text-shadow: 0 0 20px rgba(74, 222, 128, 0.4);
            }

            to {
                text-shadow: 0 0 30px rgba(74, 222, 128, 0.6), 0 0 40px rgba(74, 222, 128, 0.2);
            }
        }

        .close-btn {
            width: 40px;
            height: 40px;
            border: none;
            background: rgba(239, 68, 68, 0.1);
            color: #ef4444;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 18px;
            font-weight: 600;
        }

        .close-btn:hover {
            background: rgba(239, 68, 68, 0.2);
            transform: scale(1.1);
        }

        /* Main content area */
        .modal-body {
            flex: 1;
            display: flex;
            overflow: hidden;
        }

        /* Left navigation sidebar */
        .nav-sidebar {
            width: 280px;
            background: rgba(0, 0, 0, 0.3);
            border-right: 1px solid rgba(139, 92, 246, 0.2);
            padding: 24px 0;
            position: relative;
        }

        /* Animated indicator */
        .nav-indicator {
            position: absolute;
            left: 0;
            width: 4px;
            height: 48px;
            background: linear-gradient(180deg, #8b5cf6, #a855f7);
            border-radius: 0 4px 4px 0;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 0 20px rgba(139, 92, 246, 0.6);
            transform: translateY(0);
        }

        .nav-list {
            list-style: none;
            position: relative;
        }

        .nav-item {
            margin: 4px 16px;
        }

        .nav-link {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 12px 20px;
            color: #94a3b8;
            text-decoration: none;
            border-radius: 12px;
            transition: all 0.3s ease;
            font-weight: 500;
            position: relative;
            overflow: hidden;
        }

        .nav-link::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(168, 85, 247, 0.1));
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .nav-link:hover::before {
            opacity: 1;
        }

        .nav-link.active {
            background: rgba(139, 92, 246, 0.15);
            color: #e2e8f0;
            transform: translateX(8px);
        }

        .nav-link.active::before {
            opacity: 1;
        }

        .nav-icon {
            width: 20px;
            height: 20px;
            flex-shrink: 0;
        }

        /* Content panel */
        .content-panel {
            flex: 1;
            padding: 32px;
            overflow-y: auto;
            position: relative;
        }

        .content-section {
            opacity: 0;
            transform: translateX(20px);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            display: none;
        }

        .content-section.active {
            opacity: 1;
            transform: translateX(0);
            display: block;
        }

        /* Settings cards */
        .settings-card {
            background: rgba(15, 23, 42, 0.6);
            border: 1px solid rgba(139, 92, 246, 0.2);
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 24px;
            backdrop-filter: blur(8px);
            transition: all 0.3s ease;
        }

        .settings-card:hover {
            border-color: rgba(139, 92, 246, 0.4);
            background: rgba(15, 23, 42, 0.8);
        }

        .card-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: #fbbf24;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .card-title::before {
            content: '';
            width: 4px;
            height: 20px;
            background: linear-gradient(180deg, #fbbf24, #f59e0b);
            border-radius: 2px;
        }

        /* Form elements */
        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            color: #e2e8f0;
            font-weight: 500;
        }

        .form-input,
        .form-select {
            width: 100%;
            padding: 12px 16px;
            background: rgba(0, 0, 0, 0.4);
            border: 1px solid rgba(139, 92, 246, 0.3);
            border-radius: 12px;
            color: #e2e8f0;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .form-input:focus,
        .form-select:focus {
            outline: none;
            border-color: #8b5cf6;
            box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.2);
            background: rgba(0, 0, 0, 0.6);
        }

        /* Toggle switch */
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 56px;
            height: 28px;
        }

        .toggle-input {
            display: none;
        }

        .toggle-slider {
            position: absolute;
            inset: 0;
            background: #374151;
            border-radius: 28px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .toggle-slider::before {
            content: '';
            position: absolute;
            top: 2px;
            left: 2px;
            width: 24px;
            height: 24px;
            background: #fff;
            border-radius: 50%;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .toggle-input:checked+.toggle-slider {
            background: #4ade80;
        }

        .toggle-input:checked+.toggle-slider::before {
            transform: translateX(28px);
        }

        /* Table styles */
        .options-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 16px;
        }

        .options-table th {
            background: rgba(0, 0, 0, 0.4);
            color: #fbbf24;
            padding: 12px;
            text-align: left;
            font-weight: 600;
            border-bottom: 1px solid rgba(139, 92, 246, 0.3);
        }

        .options-table td {
            padding: 12px;
            border-bottom: 1px solid rgba(139, 92, 246, 0.1);
            transition: background 0.3s ease;
        }

        .options-table tr:hover td {
            background: rgba(139, 92, 246, 0.1);
        }

        /* Floating save bar */
        .save-bar {
            position: fixed;
            bottom: -100px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(15, 23, 42, 0.95);
            backdrop-filter: blur(16px);
            border: 1px solid rgba(139, 92, 246, 0.3);
            border-radius: 16px;
            padding: 16px 24px;
            display: flex;
            align-items: center;
            gap: 20px;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 1100;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5);
        }

        .save-bar.visible {
            bottom: 24px;
        }

        .save-message {
            color: #fbbf24;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .save-message::before {
            content: 'âš ';
            color: #f59e0b;
        }

        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 8px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
        }

        .btn-reset {
            background: rgba(239, 68, 68, 0.1);
            color: #ef4444;
            border: 1px solid rgba(239, 68, 68, 0.3);
        }

        .btn-reset:hover {
            background: rgba(239, 68, 68, 0.2);
        }

        .btn-save {
            background: #4ade80;
            color: #0b1b13;
            font-weight: 600;
        }

        .btn-save:hover {
            background: #22c55e;
            transform: translateY(-1px);
        }

        /* Scrollbar styling */
        .content-panel::-webkit-scrollbar {
            width: 6px;
        }

        .content-panel::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.2);
        }

        .content-panel::-webkit-scrollbar-thumb {
            background: rgba(139, 92, 246, 0.4);
            border-radius: 3px;
        }

        .content-panel::-webkit-scrollbar-thumb:hover {
            background: rgba(139, 92, 246, 0.6);
        }

        /* Button icons */
        .btn-icon {
            width: 16px;
            height: 16px;
            margin-right: 8px;
        }

        /* Status message */
        .status-message {
            margin-top: 16px;
            padding: 12px;
            border-radius: 8px;
            font-size: 14px;
            display: none;
        }

        .status-message.success {
            background: rgba(34, 197, 94, 0.1);
            color: #4ade80;
            border: 1px solid rgba(34, 197, 94, 0.3);
        }

        .status-message.error {
            background: rgba(239, 68, 68, 0.1);
            color: #ef4444;
            border: 1px solid rgba(239, 68, 68, 0.3);
        }

        /* Color input special styling */
        .color-input {
            width: 60px;
            height: 40px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            background: none;
        }

        /* Loading animations */
        .loading-overlay {
            position: absolute;
            inset: 0;
            background: rgba(15, 23, 42, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }

        .loading-overlay.visible {
            opacity: 1;
            pointer-events: all;
        }

        .spinner {
            width: 40px;
            height: 40px;
            border: 3px solid rgba(139, 92, 246, 0.3);
            border-top: 3px solid #8b5cf6;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        /* Enhanced hover effects */
        .settings-card {
            position: relative;
            overflow: hidden;
        }

        .settings-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(139, 92, 246, 0.1), transparent);
            transition: left 0.5s ease;
        }

        .settings-card:hover::before {
            left: 100%;
        }

        /* Button pulse effect */
        .btn-save {
            position: relative;
            overflow: hidden;
        }

        .btn-save::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: all 0.5s ease;
        }

        .btn-save:active::before {
            width: 300px;
            height: 300px;
        }

        /* Smooth focus transitions */
        .form-input:focus,
        .form-select:focus {
            transform: translateY(-2px);
        }

        /* Site list enhanced styling */
        .site-item:hover {
            background: rgba(139, 92, 246, 0.1) !important;
            border-color: rgba(139, 92, 246, 0.4) !important;
            transform: translateX(4px);
        }

        /* Floating elements animation */
        @keyframes float {

            0%,
            100% {
                transform: translateY(0px);
            }

            50% {
                transform: translateY(-6px);
            }
        }

        .floating {
            animation: float 3s ease-in-out infinite;
        }

        /* Advanced toggle styling */
        .toggle-switch:hover .toggle-slider {
            box-shadow: 0 0 10px rgba(139, 92, 246, 0.4);
        }

        .toggle-input:checked+.toggle-slider {
            box-shadow: 0 0 15px rgba(74, 222, 128, 0.4);
        }

        /* Table row animation */
        .options-table tr {
            transition: all 0.3s ease;
        }

        .options-table tr:hover {
            transform: scale(1.02);
        }

        /* Modal entrance animation enhancement */
        .options-modal {
            transform-origin: center center;
        }

        /* Responsive design */
        @media (max-width: 768px) {
            .options-modal {
                width: 100vw;
                height: 100vh;
                border-radius: 0;
            }

            .nav-sidebar {
                width: 240px;
            }

            .content-panel {
                padding: 20px;
            }

            .modal-header {
                padding: 16px 20px;
            }

            .modal-title {
                font-size: 1.5rem;
            }
        }

        @media (max-width: 480px) {
            .modal-body {
                flex-direction: column;
            }

            .nav-sidebar {
                width: 100%;
                height: auto;
                border-right: none;
                border-bottom: 1px solid rgba(139, 92, 246, 0.2);
            }

            .nav-list {
                display: flex;
                overflow-x: auto;
                padding: 0 16px;
            }

            .nav-item {
                margin: 4px 8px 4px 0;
                flex-shrink: 0;
            }

            .nav-indicator {
                display: none;
            }
        }
    </style>
</head>

<body>
    <div class="modal-backdrop">
        <div class="options-modal">
            <!-- Header -->
            <div class="modal-header">
                <h1 class="modal-title floating">Zepra Options</h1>
                <button class="close-btn" id="closeModal">Ã—</button>
            </div>

            <!-- Main content -->
            <div class="modal-body">
                <!-- Navigation sidebar -->
                <nav class="nav-sidebar">
                    <div class="nav-indicator"></div>
                    <ul class="nav-list">
                        <li class="nav-item">
                            <a href="#" class="nav-link active" data-section="theme-api">
                                <svg class="nav-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M7 21a4 4 0 01-4-4V5a3 3 0 016 0v12a4 4 0 01-4 4zM21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                </svg>
                                Theme & API
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-section="model-typing">
                                <svg class="nav-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z" />
                                </svg>
                                Model & Typing
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-section="voice-translation">
                                <svg class="nav-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z" />
                                </svg>
                                Voice & Translation
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-section="reasoning-ocr">
                                <svg class="nav-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
                                </svg>
                                Reasoning & OCR
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-section="custom-prompts">
                                <svg class="nav-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
                                </svg>
                                Custom Prompts
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-section="custom-sites">
                                <svg class="nav-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9v-9m0-9v9m0 9c-5 0-9-4-9-9s4-9 9-9" />
                                </svg>
                                Custom Sites
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-section="ask-zepra">
                                <svg class="nav-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M13 10V3L4 14h7v7l9-11h-7z" />
                                </svg>
                                Ask Zepra
                            </a>
                        </li>
                    </ul>
                </nav>

                <!-- Content panel -->
                <div class="content-panel">
                    <!-- Loading overlay -->
                    <div class="loading-overlay" id="loadingOverlay">
                        <div class="spinner"></div>
                    </div>

                    <!-- Theme & API Section -->
                    <div class="content-section active" id="theme-api">
                        <div class="settings-card">
                            <h3 class="card-title">Theme</h3>
                            <div class="form-group">
                                <label class="form-label">Primary Neon Color</label>
                                <input type="color" id="primaryColor" class="color-input" value="#39ff14">
                            </div>
                        </div>

                        <div class="settings-card">
                            <h3 class="card-title">API Keys</h3>
                            <div class="form-group">
                                <label class="form-label">Cerebras API Key</label>
                                <input type="password" id="cerebrasKey" class="form-input" placeholder="csk-...">
                            </div>
                            <div class="form-group">
                                <label class="form-label">OCR.space API Key</label>
                                <input type="password" id="ocrKey" class="form-input" placeholder="K***">
                            </div>
                            <div class="form-group">
                                <label class="form-label">ipdata API Key</label>
                                <input type="password" id="ipdataKey" class="form-input" placeholder="(optional)">
                                <button id="testIpdata" class="btn btn-reset" style="margin-top: 8px;">Test
                                    Connection</button>
                            </div>
                        </div>
                    </div>

                    <!-- Model & Typing Section -->
                    <div class="content-section" id="model-typing">
                        <div class="settings-card">
                            <h3 class="card-title">Model & Typing</h3>
                            <div class="form-group">
                                <label class="form-label">Cerebras Model</label>
                                <select id="cerebrasModel" class="form-select">
                                    <option value="qwen-3-coder-480b">qwen-3-coder-480b</option>
                                    <option value="qwen-3-235b-a22b-instruct-2507">qwen-3-235b-a22b-instruct-2507
                                    </option>
                                    <option value="qwen-3-235b-a22b-thinking-2507">qwen-3-235b-a22b-thinking-2507
                                    </option>
                                    <option value="qwen-3-32b">qwen-3-32b</option>
                                    <option value="llama-3.3-70b">llama-3.3-70b</option>
                                    <option value="llama-4-maverick-17b-128e-instruct">
                                        llama-4-maverick-17b-128e-instruct</option>
                                    <option value="llama-4-scout-17b-16e-instruct">llama-4-scout-17b-16e-instruct
                                    </option>
                                    <option value="llama3.1-8b">llama3.1-8b</option>
                                    <option value="gpt-oss-120b" selected>gpt-oss-120b</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Typing Speed</label>
                                <select id="typingSpeed" class="form-select">
                                    <option value="fast">Fast</option>
                                    <option value="normal" selected>Normal</option>
                                    <option value="slow">Slow</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Voice & Translation Section -->
                    <div class="content-section" id="voice-translation">
                        <div class="settings-card">
                            <h3 class="card-title">Voice Typing</h3>
                            <div class="form-group">
                                <label class="form-label">Spoken Language (Source)</label>
                                <select id="voiceInputLanguage" class="form-select">
                                    <option value="ar-EG">Arabic (Egypt)</option>
                                    <option value="ar-SA">Arabic (Saudi Arabia)</option>
                                    <option value="ar-AE">Arabic (UAE)</option>
                                    <option value="en-US" selected>English (US)</option>
                                    <option value="en-GB">English (UK)</option>
                                    <option value="fr-FR">French</option>
                                    <option value="de-DE">German</option>
                                    <option value="es-ES">Spanish</option>
                                    <option value="it-IT">Italian</option>
                                    <option value="pt-BR">Portuguese (Brazil)</option>
                                    <option value="ru-RU">Russian</option>
                                    <option value="ja-JP">Japanese</option>
                                    <option value="zh-CN">Chinese (Simplified)</option>
                                    <option value="tr-TR">Turkish</option>
                                    <option value="hi-IN">Hindi</option>
                                    <option value="ur-PK">Urdu</option>
                                    <option value="bn-BD">Bengali</option>
                                </select>
                            </div>
                        </div>

                        <div class="settings-card">
                            <h3 class="card-title">AI Translation</h3>
                            <div class="form-group"
                                style="display:flex;align-items:center;justify-content:space-between;gap:16px;">
                                <div>
                                    <div class="form-label" style="margin:0 0 4px 0;">Enable Translation Layer</div>
                                    <div style="font-size:13px;color:#94a3b8;line-height:1.4;">
                                        Adds a magical translation button to the voice dock. Uses Llama-3.3-70b.
                                    </div>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="enableTranslation" class="toggle-input">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            <div class="form-group" id="targetLangGroup">
                                <label class="form-label">Target Language</label>
                                <select id="translationTargetLanguage" class="form-select">
                                    <option value="English">English</option>
                                    <option value="Arabic">Arabic</option>
                                    <option value="Spanish">Spanish</option>
                                    <option value="French">French</option>
                                    <option value="German">German</option>
                                    <option value="Italian">Italian</option>
                                    <option value="Portuguese">Portuguese</option>
                                    <option value="Russian">Russian</option>
                                    <option value="Japanese">Japanese</option>
                                    <option value="Chinese">Chinese</option>
                                    <option value="Hindi">Hindi</option>
                                    <option value="Turkish">Turkish</option>
                                    <option value="Urdu">Urdu</option>
                                    <option value="Bengali">Bengali</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Reasoning & OCR Section -->
                    <div class="content-section" id="reasoning-ocr">
                        <div class="settings-card">
                            <h3 class="card-title">Reasoning</h3>
                            <div class="form-group">
                                <label class="form-label">Show Answer Reasoning</label>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="showReasoning" class="toggle-input">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Reasoning Language</label>
                                <input type="text" id="reasonLang" class="form-input" placeholder="English">
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="humanErrorRate">Human Error Rate <span
                                        id="humanErrorValue" style="color:#4ade80;font-weight:600;">0%</span></label>
                                <input type="range" id="humanErrorRate" class="form-input" min="0" max="20" step="1"
                                    value="0">
                                <div style="font-size:13px;color:#94a3b8;line-height:1.5;margin-top:6px;">
                                    Controls the percentage of subtle human-like imperfections (minor typos, double
                                    spaces, casing
                                    changes) to make answers feel more natural. Max 20%.
                                </div>
                            </div>
                            <div class="form-group" style="margin-top:12px;">
                                <button id="openPersonas" class="btn btn-save"
                                    style="background:#1f2937;border-color:#334155;color:#e2e8f0;display:inline-flex;align-items:center;gap:8px;">
                                    <span>ðŸŽ­</span> Manage advanced personas
                                </button>
                            </div>
                        </div>

                        <div class="settings-card">
                            <h3 class="card-title">Autofill</h3>
                            <div class="form-group"
                                style="display:flex;align-items:center;justify-content:space-between;gap:16px;">
                                <div>
                                    <div class="form-label" style="margin:0 0 4px 0;">Autofill with AI Analysis</div>
                                    <div style="font-size:13px;color:#94a3b8;line-height:1.4;">
                                        When enabled, Zepra will send a lightweight, structured summary of the page form
                                        to the AI to map
                                        fields precisely before filling. This improves accuracy and avoids mixing
                                        fields.
                                    </div>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="autofillWithAI" class="toggle-input">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>

                        <div class="settings-card">
                            <h3 class="card-title">Clipboard Memory</h3>
                            <div class="form-group"
                                style="display:flex;align-items:center;justify-content:space-between;gap:16px;">
                                <div>
                                    <div class="form-label" style="margin:0 0 4px 0;">Enable AI Clipboard Memory</div>
                                    <div style="font-size:13px;color:#94a3b8;line-height:1.4;">
                                        Automatically capture clipboard snippets, enrich them with AI analysis, and
                                        access them from the
                                        Clipboard Memory dashboard.
                                    </div>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="clipboardMemoryEnabled" class="toggle-input">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>

                        <div class="settings-card">
                            <h3 class="card-title">Website Library</h3>
                            <div class="form-group"
                                style="display:flex;align-items:center;justify-content:space-between;gap:16px;">
                                <div>
                                    <div class="form-label" style="margin:0 0 4px 0;">Enable Additional Note Modal</div>
                                    <div style="font-size:13px;color:#94a3b8;line-height:1.4;">
                                        If enabled, saving a website will prompt for an optional personal note before
                                        saving. If disabled,
                                        it saves instantly.
                                    </div>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="enableAdditionalNote" class="toggle-input">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>

                        <div class="settings-card">
                            <h3 class="card-title">OCR</h3>
                            <div class="form-group">
                                <label class="form-label">Default OCR Language</label>
                                <select id="ocrLang" class="form-select">
                                    <option value="eng" selected>English (eng)</option>
                                    <option value="ara">Arabic (ara)</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="settings-card">
                        <h3 class="card-title">Prompt Enhancer</h3>
                        <div class="form-group"
                            style="display:flex;align-items:center;justify-content:space-between;gap:16px;">
                            <div>
                                <div class="form-label" style="margin:0 0 4px 0;">Confirm Before Replace</div>
                                <div style="font-size:13px;color:#94a3b8;line-height:1.4;">
                                    If enabled, you will see a comparison preview before the enhanced prompt replaces
                                    your text.
                                </div>
                            </div>
                            <label class="toggle-switch">
                                <input type="checkbox" id="promptEnhanceConfirm" class="toggle-input">
                                <span class="toggle-slider"></span>
                            </label>
                        </div>

                        <div class="form-group" style="margin-top: 16px;">
                            <label class="form-label">Enhancement Framework</label>
                            <select id="enhancementFramework" class="form-select">
                                <option value="standard">Standard (Default) - General Use</option>
                                <option value="reasoning">Reasoning - Complex Problem Solving</option>
                                <option value="race">RACE - Role, Action, Context, Explanation</option>
                                <option value="care">CARE - Context, Action, Result, Example</option>
                                <option value="ape">APE - Action, Purpose, Execution</option>
                                <option value="create">CREATE - Character, Request, Examples...</option>
                                <option value="tag">TAG - Task, Action, Goal</option>
                                <option value="creo">CREO - Context, Request, Explanation, Outcome</option>
                                <option value="rise">RISE - Role, Input, Steps, Execution</option>
                                <option value="pain">PAIN - Problem, Action, Info, Next Steps</option>
                                <option value="coast">COAST - Context, Objective, Actions...</option>
                                <option value="roses">ROSES - Role, Objective, Scenario...</option>
                                <option value="custom">Custom - Your Own System Prompt</option>
                            </select>
                            <div style="font-size:13px;color:#94a3b8;margin-top:4px;">Choose the optimization framework
                                used by the
                                Magic Hat.</div>
                        </div>

                        <div class="form-group" id="customPromptContainer" style="display:none; margin-top: 16px;">
                            <label class="form-label">Custom System Prompt</label>
                            <textarea id="customFrameworkPrompt" rows="6" class="form-input"
                                placeholder="You are an expert... Your goal is..."></textarea>
                            <div style="font-size:13px;color:#94a3b8;margin-top:4px;">Define your own rules for prompt
                                enhancement.
                            </div>
                        </div>
                    </div>

                    <!-- Custom Prompts Section -->
                    <div class="content-section" id="custom-prompts">
                        <div class="settings-card">
                            <h3 class="card-title">Custom Prompts</h3>
                            <form id="promptForm">
                                <input type="hidden" name="id" />
                                <div
                                    style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 16px;">
                                    <div class="form-group">
                                        <label class="form-label">Name</label>
                                        <input id="promptName" type="text" class="form-input">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Tags (comma separated)</label>
                                        <input id="promptTags" type="text" class="form-input"
                                            placeholder="text, summary">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Hotkey</label>
                                    <input id="promptHotkey" type="text" class="form-input" placeholder="Ctrl+Shift+1">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Prompt</label>
                                    <textarea id="promptText" rows="4" class="form-input"></textarea>
                                </div>
                                <div style="display: flex; gap: 12px; justify-content: flex-end;">
                                    <button id="cancelPrompt" type="button" class="btn btn-reset">Cancel</button>
                                    <button id="savePrompt" type="button" class="btn btn-save">Save Prompt</button>
                                </div>
                            </form>

                            <table class="options-table" id="promptTable">
                                <thead>
                                    <tr>
                                        <th>Name</th>
                                        <th>Tags</th>
                                        <th>Hotkey</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                    </div>

                    <!-- Custom Sites Section -->
                    <div class="content-section" id="custom-sites">
                        <div class="settings-card">
                            <h3 class="card-title">Custom Sites</h3>
                            <form id="siteForm">
                                <div
                                    style="display: grid; grid-template-columns: 1fr 2fr auto; gap: 16px; align-items: end; margin-bottom: 20px;">
                                    <div class="form-group">
                                        <label class="form-label">Name</label>
                                        <input id="siteName" type="text" class="form-input">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">URL</label>
                                        <input id="siteUrl" type="url" class="form-input"
                                            placeholder="https://example.com/">
                                    </div>
                                    <button id="addSite" type="button" class="btn btn-save">Add Site</button>
                                </div>
                            </form>

                            <div id="sitesList"></div>
                        </div>

                        <div class="settings-card">
                            <h3 class="card-title">Custom Window Size</h3>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
                                <div class="form-group">
                                    <label class="form-label">Width</label>
                                    <input id="webWidth" type="number" class="form-input" min="400">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Height</label>
                                    <input id="webHeight" type="number" class="form-input" min="300">
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Ask Zepra Section -->
                    <div class="content-section" id="ask-zepra">
                        <div class="settings-card">
                            <h3 class="card-title">Ask Zepra Assistant</h3>

                            <div class="form-group"
                                style="display:flex;align-items:center;justify-content:space-between;gap:16px;">
                                <div>
                                    <div class="form-label" style="margin:0 0 4px 0;">Enable Ask Zepra</div>
                                    <div style="font-size:13px;color:#94a3b8;line-height:1.4;">
                                        Enables the in-page AI assistant. Press <b>F1</b> or select text to use.
                                    </div>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="askZepraEnabled" class="toggle-input">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>

                            <div class="form-group"
                                style="display:flex;align-items:center;justify-content:space-between;gap:16px; margin-top:20px;">
                                <div>
                                    <div class="form-label" style="margin:0 0 4px 0;">Show 'Sparkle' Icon on Selection
                                    </div>
                                    <div style="font-size:13px;color:#94a3b8;line-height:1.4;">
                                        Show a floating trigger button when you select text on any webpage.
                                    </div>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="askZepraIcon" class="toggle-input">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>

                            <div class="form-group" style="margin-top:20px;">
                                <label class="form-label">Keyboard Shortcut</label>
                                <input type="text" id="askZepraShortcut" class="form-input" placeholder="F1">
                                <div style="font-size:13px;color:#94a3b8;margin-top:4px;">
                                    Default is F1. Supported: F1-F12, or specific keys.
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Status message -->
                    <div id="statusMessage" class="status-message"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Floating save bar -->
    <div class="save-bar" id="saveBar">
        <div class="save-message">You have unsaved changes!</div>
        <button class="btn btn-reset" id="resetChanges">Reset</button>
        <button class="btn btn-save" id="saveChanges">Save Changes</button>
    </div>

    <script src="options.js" type="module"></script>
</body>

</html>