<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Zepra Clipboard Memory</title>
    <link rel="stylesheet" href="clipboard_v2.css">
    <link
        href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Outfit:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
</head>

<body>
    <div class="video-bg">
        <video autoplay loop muted playsinline>
            <source src="src/media/static (1).webm" type="video/webm">
        </video>
        <div class="overlay"></div>
    </div>

    <div class="app-container">
        <header class="top-bar">
            <div class="logo-area">
                <div class="logo-icon">üìã</div>
                <div>
                    <h1>Clipboard Memory</h1>
                    <p>Smart History & AI Analysis</p>
                </div>
            </div>
            <div class="search-area">
                <div class="search-box">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="11" cy="11" r="8" />
                        <path d="M21 21l-4.35-4.35" />
                    </svg>
                    <input type="text" id="searchInput" placeholder="Search saved clips...">
                </div>
            </div>
            <div class="actions-area">
                <div class="model-select">
                    <label for="clipboardModel">AI Model</label>
                    <select id="clipboardModel">
                        <option value="">Auto</option>
                        <option value="gpt-oss-120b">GPT-OSS</option>
                        <option value="qwen-3">Qwen-3</option>
                        <option value="qwen-2.5-72b-instruct">Qwen-2.5 72B</option>
                        <option value="llama-3.1-70b">Llama 3.1 70B</option>
                    </select>
                </div>
                <button id="clearAllBtn" class="action-btn danger">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M3 6h18" />
                        <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6" />
                        <path d="M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2" />
                    </svg>
                    Clear History
                </button>
            </div>
        </header>

        <div class="filter-bar">
            <button class="filter-tab active" data-filter="all">All Items</button>
            <button class="filter-tab" data-filter="text">Text</button>
            <button class="filter-tab" data-filter="link">Links</button>
            <button class="filter-tab" data-filter="code">Code</button>
            <button class="filter-tab" data-filter="email">Emails</button>
            <button class="filter-tab" data-filter="favorites" style="margin-left:auto;color:#fbbf24;">‚òÖ
                Favorites</button>
        </div>

        <main class="grid-container" id="clipGrid">
            <!-- Generated Cards Will Go Here -->
            <div class="empty-state">
                <div class="empty-icon">üìù</div>
                <h2>Your clipboard history is empty</h2>
                <p>Copy text from any website to save it here automatically.</p>
                <p style="font-size:12px;opacity:0.6;margin-top:10px;">Ensure "Smart Clipboard" is enabled in Zepra
                    Options.</p>
            </div>
        </main>
    </div>

    <div id="toast" class="toast">Action Successful</div>

    <!-- Detail Modal -->
    <!-- Detail Modal -->
    <div id="detailModal" class="modal">
        <div class="modal-content glass-panel">

            <!-- Left Side: Content View -->
            <div class="modal-main-view">
                <div class="modal-header">
                    <div class="header-titles">
                        <h2 id="modalTitle">Clip Detail</h2>
                        <span id="modalId">ID: #8F2A</span>
                    </div>
                    <div class="modal-controls">
                        <button class="control-btn ai-trigger" id="askAiBtn">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                            </svg>
                            Ask AI
                        </button>
                        <button class="control-btn secondary" id="modalCopyBtn">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                            </svg>
                            Copy
                        </button>
                        <button class="close-modal">&times;</button>
                    </div>
                </div>

                <div class="modal-body-scroll">
                    <!-- Metadata Grid -->
                    <div class="meta-grid">
                        <div class="meta-box">
                            <span class="meta-label">Type</span>
                            <span class="meta-value" id="modalType">TEXT</span>
                        </div>
                        <div class="meta-box">
                            <span class="meta-label">Date</span>
                            <span class="meta-value" id="modalDate">Jan 23, 2026</span>
                        </div>
                        <div class="meta-box source-box">
                            <span class="meta-label">Source</span>
                            <a href="#" id="modalSource" target="_blank" class="meta-value source-link">github.com ‚Üó</a>
                        </div>
                    </div>

                    <!-- Tags -->
                    <div id="tagsContainer" class="card-tags" style="padding:0 0 16px 0;"></div>

                    <!-- Content Viewer -->
                    <div class="content-viewer">
                        <button class="copy-overlay-btn" id="innerCopyBtn">Copy</button>
                        <pre id="modalText"></pre>
                    </div>

                    <!-- AI Analysis Hub -->
                    <div id="aiAnalysisBox" class="ai-analysis-modern" style="display:none;">
                        <div class="ai-title">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <path d="M12 2a10 10 0 1 0 10 10H12V2z"></path>
                                <path d="M12 2a10 10 0 0 1 10 10"></path>
                                <path d="M2 12h10"></path>
                            </svg>
                            AI Analysis
                        </div>
                        <div id="aiSummary" class="ai-summary"></div>
                        <div id="aiKeyPoints" class="ai-points"></div>
                    </div>
                </div>
            </div>

            <!-- Resize Handle -->
            <div class="resize-handle" id="resizeHandle"></div>

            <!-- Right Side: Chat Drawer (ChatGPT Style) -->
            <div id="chatDrawer" class="chat-drawer collapsed">
                <div class="chat-header">
                    <h3>
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <path
                                d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z">
                            </path>
                        </svg>
                        Smart Assistant
                    </h3>
                    <button class="close-modal" id="closeChatBtn" style="font-size:20px;">&times;</button>
                </div>

                <div class="chat-messages-area" id="chatMessages">
                    <div class="message-bubble ai">
                        <div class="avatar">‚ö°</div>
                        <div class="message-content">
                            <div class="message-text">Hello! I'm ready to analyze this content or answer any questions
                                about it.</div>
                        </div>
                    </div>
                </div>

                <div class="chat-input-area">
                    <div class="chat-input-box">
                        <textarea id="chatInput" class="chat-textarea" placeholder="Ask anything..."
                            rows="1"></textarea>
                        <button id="sendChatBtn" class="chat-send-btn">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <line x1="22" y1="2" x2="11" y2="13"></line>
                                <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <script src="clipboard.js" type="module"></script>
</body>

</html>
